<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registrarte | La Página de las Maravillas</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #e9ecef;
    }
    .card {
      border-radius: 12px;
    }
    .titulo {
      font-size: 2rem;
      font-weight: bold;
      color: #0d6efd;
    }
    .genero-box {
      border: 1px solid #ccc;
      border-radius: 4px;
      padding: 6px 10px;
      width: 48%;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
  </style>
</head>
<body>

  <div class="text-center mt-4">
    <h1 class="titulo">La Página de las Maravillas</h1>
    <p class="text-muted">Regístrate para descubrir el mundo</p>
  </div>

  <div class="container">
    <div class="row justify-content-center align-items-center">
      <div class="col-md-6 col-lg-5">
        <div class="card shadow p-4 mt-3">

          <div class="text-center mb-2">
            <h4 class="fw-bold">Crea tu cuenta</h4>
            <p class="text-muted" style="font-size: 14px;">Es rápido y fácil.</p>
          </div>

          <form id="registroForm" method="POST" action="{{ url_for('registro') }}" novalidate>
            <div class="row g-2">
              <div class="col-6">
                <input type="text" class="form-control" id="nombre" name="nombre" placeholder="Nombre" required>
                <div class="invalid-feedback">Ingresa tu nombre.</div>
              </div>
              <div class="col-6">
                <input type="text" class="form-control" id="apellido" name="apellido" placeholder="Apellido" required>
                <div class="invalid-feedback">Ingresa tu apellido.</div>
              </div>
            </div>

            <label class="mt-3 small">Fecha de nacimiento</label>
            <div class="row g-2">
              <div class="col-4">
                <select class="form-select" name="dia" required>
                  <option value="">Día</option>
                  {% for d in range(1, 32) %}
                    <option>{{ d }}</option>
                  {% endfor %}
                </select>
              </div>
              <div class="col-4">
                <select class="form-select" name="mes" required>
                  <option value="">Mes</option>
                  <option>Ene</option><option>Feb</option><option>Mar</option>
                  <option>Abr</option><option>May</option><option>Jun</option>
                  <option>Jul</option><option>Ago</option><option>Sep</option>
                  <option>Oct</option><option>Nov</option><option>Dic</option>
                </select>
              </div>
              <div class="col-4">
                <select class="form-select" name="anio" required>
                  <option value="">Año</option>
                  {% for y in range(2025, 1980, -1) %}
                    <option>{{ y }}</option>
                  {% endfor %}
                </select>
              </div>
            </div>

            <label class="mt-3 small">Género</label>
            <div class="d-flex justify-content-between">
              <label class="genero-box">
                Mujer
                <input type="radio" name="genero" value="Mujer" required>
              </label>
              <label class="genero-box">
                Hombre
                <input type="radio" name="genero" value="Hombre" required>
              </label>
            </div>

            <input type="email" class="form-control mt-3" id="email" name="email" placeholder="Correo electrónico" required>
            <div class="invalid-feedback">Ingresa un correo electrónico válido.</div>

            <input type="password" class="form-control mt-3" id="password" name="password" placeholder="Contraseña nueva" minlength="6" required>
            <div class="invalid-feedback">La contraseña debe tener al menos 6 caracteres.</div>

            <div class="d-grid mt-4">
              <button type="submit" class="btn btn-primary fw-bold">Registrarte</button>
            </div>

            <p class="text-center mt-3">
              ¿Ya tienes cuenta? <a href="{{ url_for('login') }}">Inicia sesión</a>
            </p>
          </form>

          {% if error %}
            <div class="alert alert-danger mt-3 text-center">{{ error }}</div>
          {% endif %}

        </div>
      </div>
    </div>
  </div>

  <footer class="bg-dark text-white text-center py-3 mt-4">
    Jacobo Hernández Víctor Manuel
  </footer>

  <script>
    (function () {
      'use strict';
      const form = document.getElementById('registroForm');
      form.addEventListener('submit', function (event) {
        if (!form.checkValidity()) {
          event.preventDefault();
          event.stopPropagation();
        }
        form.classList.add('was-validated');
      }, false);
    })();
  </script>

</body>
</html>
